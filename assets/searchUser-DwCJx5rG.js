import{r as a,u as b,b as f,j as t,g as S,s as j}from"./index-40SuWMdA.js";const U=()=>{const[s,m]=a.useState(""),[u,n]=a.useState(""),[g,l]=a.useState("Submit"),[r,p]=a.useState(3),h=b(),o=f(),d=async()=>{const e=new AbortController,i=e.signal,c=await S(i,s);return c.status===200&&(h(j(c.data)),o(`/Git-search/users/user/${s}`)),e.abort(),c},x=async e=>{e.preventDefault(),l("Loading..."),s&&d().catch(()=>{l("Submit"),p(i=>i-1),n(`User Does Not Exist! ${r-1} Attempts remaining`)})};return a.useEffect(()=>{r<=0&&(n("Too many attempts, REDIRECTING..."),setTimeout(()=>{o("/")},3e3))},[r,o]),t.jsxs(t.Fragment,{children:[t.jsx("h3",{children:"Search User"}),t.jsxs("form",{className:"login-form",onSubmit:x,children:[u&&t.jsxs("span",{style:{fontSize:"12px",color:"orangered"},children:[" ",u]}),t.jsx("input",{type:"text",placeholder:"Github username",className:"login-inp",onChange:e=>{m(e.target.value),n("")},value:s||""}),t.jsx("button",{type:"submit",className:"login-submit-btn",children:g})]})]})};export{U as default};
