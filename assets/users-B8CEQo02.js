import{u as l,a as u,b as d,r as g,j as t,g as h,s as m,c as p,d as x,m as f}from"./index-40SuWMdA.js";const j=()=>{const a=l(),n=u(s=>s.users),c=d(),i=async s=>{const r=new AbortController,o=r.signal,e=await h(o,s.login);return e.status===200?(a(m(e.data)),c(`/Git-search/users/user/${s.login}`)):console.error("Error fetching user"),r.abort(),e};return g.useEffect(()=>{if(n.fetchDone)return;const s=new AbortController,r=s.signal;return(async()=>{const{data:e}=await p(r);return a(x(e)),a(f()),e})().catch(e=>console.error(e)),()=>{s.abort()}},[a,n.fetchDone]),t.jsxs("div",{style:{marginTop:"50px"},children:[" ",t.jsx("div",{className:"users-cont",children:n.data.map(s=>t.jsxs("div",{className:"user-card-cont",children:[t.jsx("img",{src:s.avatar_url,alt:"userAvatar",className:"user-avatar"}),t.jsx("span",{className:"username",children:s.login}),t.jsx("button",{onClick:()=>i(s),className:"view-btn",children:"View User"})]},s.id))})]})};export{j as default};
